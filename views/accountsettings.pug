extends layout.pug

block body
    #main.w3-main(style='margin-left:250px')
        .w3-row.w3-padding-64
            .w3-container2.w3-card.w3-white.w3-round.w3-margin
                .form_container
                    h2.heading Account Details
                    .picture-container
                      .picture
                        img#profilePic.picture-src(src='../src/avatar3.png' title='')
                        input#wizard-picture(type='file')
                      h6 click image to upload
                    .form_wrap.fullname
                        .form_item
                            label(style='font-family: Courier New, monospace; font-weight:normal;') First Name
                            input(type='text', readonly, value = `${currentUserDetailsBlock.firstName}`)
                        .form_item
                            label(style='font-family:Courier New, monospace;; font-weight:normal;') Last Name
                            input(type='text', readonly, value = `${currentUserDetailsBlock.lastName}`)
                    .form_wrap.fullname
                        .form_item
                            label(style='font-family: Courier New, monospace; font-weight:normal;') User ID
                            input(type='text', readonly, value = `${currentUserDetailsBlock.empID}`)
                        .form_item
                            label(style='font-family:Courier New, monospace;; font-weight:normal;') User Level
                            input(type='text', readonly, value = `${currentUserDetailsBlock.userLevel}`)
                    .form_wrap.fullname
                        .form_item
                            label(style='font-family:Courier New, monospace;; font-weight:normal;') Upload Picture
                            form(enctype="multipart/form-data" id="upload-picture")
                                input.bottone5(type="file", name="file", id="file")
                                input.bottone5(type="submit", value="Upload")
                    .btnPosition
                          button.btn(onclick="showChangePasswordModal()") Update Password
        #changePasswordModal.w3-modal
            .w3-modal-content.round
                .w3-container.w3-round.w3-margin
                    .w3-bar
                        span.w3-button.w3-display-topright(onclick="document.getElementById('changePasswordModal').style.display='none'") &times;

                    label(style='font-family: Courier New, monospace; font-weight:normal;') Current Password
                    input(id='currentPassword' name='currentPassword' type='password')
                    label(style='font-family: Courier New, monospace; font-weight:normal;') New Password
                    input(id='newPassword' name='newPassword' type='password')
                    label(style='font-family: Courier New, monospace; font-weight:normal;') Confirm Password
                    input(id='confirmPassword' name='confirmPassword' type='password')
                    p#selectedFileForDeletionPlaceholder
                    br
                    p.error-message
                    br
                    button(class='btn' onclick="updatePassword()") Reset Password
                    br
                    button.btn.w3-amber(onclick="hideChangePasswordModal()") Cancel

    script.

    script(src="/js/client.functions/handle_ajax_upload_pictures.js")
    script(src="/js/client.functions/handle_ajax_update_password.js")
    script(src="js/UploadProfilePic.js")


